Спецификация

Кофеварка Mark IV Special может за раз приготовить до 12 чашек
кофе. Пользователь вставляет фильтр в  фильтродержатель, засыпа-
ет в  фильтр молотый кофе и  устанавливает фильтродержатель в  при-
емник. Затем он заливает в  контейнер до 12 чашек воды и  наживает
кнопку «Сварить». Вода нагревается до кипения. Под давлением пара
кипяток подается на засыпанный кофе, и готовый напиток льется че-
рез фильтр в кофейник. Кофейник подогревается нагревательной под-
ставкой, которая включается, только если в кофейнике есть кофе. Если
снять кофейник с подставки в то время, когда кипяток еще поступает
из кипятильника, то подача воды прекращается, чтобы кофе не лился
на подставку. Имеется следующее оборудование, которым необходимо
управлять:

- Нагревательный элемент для кипятильника. Может быть включен
или выключен.
- Нагревательный элемент для подставки. Может быть включен или
выключен.
- Датчик нагревательной подставки. Может находиться в  одном из
трех состояний: warmerEmpty (на подставке нет кофейника), potEmpty
(кофейник пуст), potNotEmpty (кофейник не пуст).
- Датчик кипятильника, определяющий, есть ли в  нем вода. Может
находиться в  одном из двух состояний: boilerEmpty (кипятильник
пуст) или boilerNotEmpty (кипятильник не пуст).
- Кнопка «Сварить». Ее нажатие запускает процесс приготовления
кофе. На кнопке есть индикатор, который зажигается, когда про-
цесс закончился и кофе готов.
- Клапан сброса давления, который открывается, чтобы понизить
давление в  кипятильнике. При понижении давления подача воды
в фильтр прекращается. Клапан может быть открыт или закрыт.

Аппаратная часть Mark IV уже спроектирована, и  сейчас идет подго-
товка к производству. Конструкторы даже предоставили низкоуровне-
вый API, чтобы избавить нас от необходимости писать драйвер ввода/
вывода, работающий на уровне битов. Описание интерфейсных функ-
ций показано в файле coffe_maker.rb Если оно кажется вам странным, вспом-
ните, что писали его конструкторы оборудования.

Нужен набор диаграмм классов, последовательности и состояний.
